!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).tbDialog=e()}(this,(function(){"use strict";const t={title:"提示",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,showConfirm:!0,showClose:!1,showMask:!0,maskClosable:!0,showTitle:!0};return class{constructor(e){this.options=Object.assign({},t,e),this.createDialog()}createDialog(){this.dialog=document.createElement("div"),this.dialog.className="tb-dialog",this.createHeader(),this.createContent(),this.createFooter(),this.createMask(),document.body.appendChild(this.dialog),this.show()}createHeader(){this.header=document.createElement("div"),this.header.className="tb-dialog-header",this.options.showTitle&&(this.header.innerHTML=this.options.title),this.options.showClose&&(this.closeBtn=document.createElement("span"),this.closeBtn.className="tb-dialog-close",this.closeBtn.innerHTML="&times;",this.closeBtn.addEventListener("click",(()=>{this.hide()})),this.header.appendChild(this.closeBtn)),(this.options.showClose||this.options.showTitle)&&this.dialog.appendChild(this.header)}createContent(){if(this.content=document.createElement("div"),this.content.className="tb-dialog-content","string"==typeof this.options.content)this.content.innerHTML=0===this.options.content.indexOf("#")?document.querySelector(this.options.content).innerHTML:this.options.content;else{if(!(this.options.content instanceof HTMLElement||this.options.content instanceof DocumentFragment))throw new Error("content参数类型错误, 请传入字符串或者dom节点");this.content.appendChild(this.options.content)}this.dialog.appendChild(this.content)}createFooter(){this.footer=document.createElement("div"),this.footer.className="tb-dialog-footer",this.options.showCancel&&(this.cancelBtn=document.createElement("button"),this.cancelBtn.className="tb-dialog-cancel",this.cancelBtn.innerHTML=this.options.cancelText,this.cancelBtn.addEventListener("click",(()=>{this.close(),"function"==typeof this.options.onCancel&&this.options.onCancel()})),this.footer.appendChild(this.cancelBtn)),this.options.showConfirm&&(this.confirmBtn=document.createElement("button"),this.confirmBtn.className="tb-dialog-confirm",this.confirmBtn.innerHTML=this.options.confirmText,this.confirmBtn.addEventListener("click",(()=>{this.close(),"function"==typeof this.options.onConfirm&&this.options.onConfirm()})),this.footer.appendChild(this.confirmBtn)),(this.options.showCancel||this.options.showConfirm)&&this.dialog.appendChild(this.footer)}createMask(){this.options.showMask&&(this.mask=document.createElement("div"),this.mask.className="tb-mask",this.options.maskClosable&&this.mask.addEventListener("click",(()=>{this.close()})),document.body.appendChild(this.mask))}show(){this.options.showMask&&(this.mask.style.transform="translateY(-100vh)",this.mask.style.transform="opacity(1)"),this.dialog.style.display="block",this.dialog.style.transform="translate(-50%, -50%) scale(1)",this.dialog.style.opacity=1}close(){this.dialog.style.transform="translate(-50%, -50%) scale(0.7)",this.dialog.style.opacity=0,this.mask.style.opacity=0,this.dialog.addEventListener("transitionend",(()=>{this.dialog.style.display="none",this.mask.style.transform="translateY(100vh)",this.dialog.remove(),this.mask.remove()}),{once:!0})}}}));
//# sourceMappingURL=index.js.map
