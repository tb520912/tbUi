!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).tbUI=e()}(this,(function(){"use strict";const t={title:"提示",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,showConfirm:!0,showClose:!1,showMask:!0,maskClosable:!0,showTitle:!0};const e={title:{text:"标题",textAlign:"center"},width:"100vw",height:"30vh",content:document.createTextNode("内容"),footer:null,mask:!0,leftBtn:{text:"取消",callback:null},rightBtn:{text:"确定",callback:null}};const s={duration:2e3,position:"center"};return{tbDialog:class{constructor(e){this.options=Object.assign({},t,e),this.createDialog()}createDialog(){this.dialog=document.createElement("div"),this.dialog.className="tb-dialog",this.createHeader(),this.createContent(),this.createFooter(),this.createMask(),document.body.appendChild(this.dialog),this.show()}createHeader(){this.header=document.createElement("div"),this.header.className="tb-dialog-header",this.options.showTitle&&(this.header.innerHTML=this.options.title),this.options.showClose&&(this.closeBtn=document.createElement("span"),this.closeBtn.className="tb-dialog-close",this.closeBtn.innerHTML="&times;",this.closeBtn.addEventListener("click",(()=>{this.hide()})),this.header.appendChild(this.closeBtn)),(this.options.showClose||this.options.showTitle)&&this.dialog.appendChild(this.header)}createContent(){if(this.content=document.createElement("div"),this.content.className="tb-dialog-content","string"==typeof this.options.content)this.content.innerHTML=0===this.options.content.indexOf("#")?document.querySelector(this.options.content).innerHTML:this.options.content;else{if(!(this.options.content instanceof HTMLElement||this.options.content instanceof DocumentFragment))throw new Error("content参数类型错误, 请传入字符串或者dom节点");this.content.appendChild(this.options.content)}this.dialog.appendChild(this.content)}createFooter(){this.footer=document.createElement("div"),this.footer.className="tb-dialog-footer",this.options.showCancel&&(this.cancelBtn=document.createElement("button"),this.cancelBtn.className="tb-dialog-cancel",this.cancelBtn.innerHTML=this.options.cancelText,this.cancelBtn.addEventListener("click",(()=>{this.close(),"function"==typeof this.options.onCancel&&this.options.onCancel()})),this.footer.appendChild(this.cancelBtn)),this.options.showConfirm&&(this.confirmBtn=document.createElement("button"),this.confirmBtn.className="tb-dialog-confirm",this.confirmBtn.innerHTML=this.options.confirmText,this.confirmBtn.addEventListener("click",(()=>{this.close(),"function"==typeof this.options.onConfirm&&this.options.onConfirm()})),this.footer.appendChild(this.confirmBtn)),(this.options.showCancel||this.options.showConfirm)&&this.dialog.appendChild(this.footer)}createMask(){this.options.showMask&&(this.mask=document.createElement("div"),this.mask.className="tb-mask",this.options.maskClosable&&this.mask.addEventListener("click",(()=>{this.close()})),document.body.appendChild(this.mask))}show(){this.options.showMask&&(this.mask.style.transform="translateY(-100vh)",this.mask.style.transform="opacity(1)"),this.dialog.style.display="block",this.dialog.style.transform="translate(-50%, -50%) scale(1)",this.dialog.style.opacity=1}close(){this.dialog.style.transform="translate(-50%, -50%) scale(0.7)",this.dialog.style.opacity=0,this.mask.style.opacity=0,this.dialog.addEventListener("transitionend",(()=>{this.dialog.style.display="none",this.mask.style.transform="translateY(100vh)",this.dialog.remove(),this.mask.remove()}),{once:!0})}},tbPopup:class{constructor(t){this.options=Object.assign({},e,t),this.createPopup()}createPopup(){this.popup=document.createElement("div"),this.popup.className="tb-popup",this.popup.style.width=this.options.width,this.popup.style.minHeight=this.options.height,this.createTitle(),this.createContent(),this.createMask(),document.body.appendChild(this.popup)}createTitle(){this.header=document.createElement("div"),this.header.className="tb-popup-header",this.title=document.createElement("div"),this.title.className="tb-popup-title",this.options.leftBtn&&(this.title.className+=" tb-popup-title-has-left-btn",this.leftBtn=document.createElement("div"),this.leftBtn.className="tb-popup-left-btn",this.leftBtn.textContent=this.options.leftBtn.text,this.leftBtn.addEventListener("click",(()=>{this.options.leftBtn.callback?this.options.leftBtn.callback():this.close()})),this.title.appendChild(this.leftBtn));const t=document.createElement("div");t.className="tb-popup-title-text",t.style.textAlign=this.options.title.textAlign,t.textContent=this.options.title.text,this.title.appendChild(t),this.options.rightBtn&&(this.title.className+=" tb-popup-title-has-right-btn",this.rightBtn=document.createElement("div"),this.rightBtn.className="tb-popup-right-btn",this.rightBtn.textContent=this.options.rightBtn.text,this.title.appendChild(this.rightBtn)),"center"===this.options.title.titleAlign&&(this.options.leftBtn||this.options.rightBtn)&&(this.title.className="tb-popup-title tb-popup-title-has-right-btn tb-popup-title-has-left-btn"),this.header.appendChild(this.title),this.popup.appendChild(this.header)}createContent(){if(this.content=document.createElement("div"),this.content.className="tb-popup-content","string"==typeof this.options.content){const t=document.getElementById(this.options.content).childNodes,e=document.createDocumentFragment();t.length>0&&t.forEach((t=>{e.appendChild(t.cloneNode(!0))})),this.content.appendChild(e)}else{if(!(this.options.content instanceof HTMLElement||this.options.content instanceof DocumentFragment))throw new Error("content参数类型错误, 请传入字符串或者dom节点");this.content.appendChild(this.options.content)}this.popup.appendChild(this.content)}createMask(){this.mask=document.createElement("div"),this.mask.style.width="100vw",this.mask.style.height="100vh",this.mask.style.backgroundColor="rgba(0,0,0,.5)",this.mask.style.position="fixed",this.mask.style.left=0,this.mask.style.bottom="-100vh",this.mask.style.zIndex=999,this.mask.style.transition="opacity .3s",this.mask.addEventListener("click",(()=>{this.close()})),document.body.appendChild(this.mask)}createClose(){this.close=document.createElement("div"),this.close.className="tb-popup-close",this.close.textContent="X",this.close.addEventListener("click",(()=>{this.close()})),this.popup.appendChild(this.close)}show(){this.mask.style.opacity=1,this.popup.style.bottom=0,this.mask.style.transform="translateY(-100vh)"}close(){this.popup.style.bottom="-100%",this.mask.style.opacity=0,this.popup.addEventListener("transitionend",(()=>{this.mask.style.transform="translateY(100vh)"}),{once:!0})}},tbToast:function(t){if(void 0===t.content)throw new Error("tbToast: options is required");if("string"!=typeof t.content)throw new Error("tbToast: options.content must be a string");t=Object.assign({},s,t);const e=document.createElement("div");e.className="tb-toast",e.innerHTML=t.content,e.style.position="fixed",e.style.left="50%",e.style.top=""+("top"===t.position?"20px":"bottom"===t.position?"80":"50%"),e.style.transform="translateX(-50%)"+("center"===t.position?" translateY(-50%)":""),e.style.transition=`opacity ${t.duration/1e3}s`,document.body.appendChild(e),e.style.opacity=1,setTimeout((()=>{e.style.opacity=0,e.addEventListener("transitionend",(()=>{document.body.removeChild(e)}))}),t.duration)}}}));
//# sourceMappingURL=index.js.map
